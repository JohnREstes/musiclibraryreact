{"ast":null,"code":"var _jsxFileName = \"/Users/johnestes/Documents/GitHub/Projects/musiclibraryreact/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport BuildTable from './components/buildTable.js';\nimport Form from './components/Forms.js';\nimport SortColumn from './components/SortColumn.js';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      musicCollection: [],\n      filteredMusic: [],\n      loading: true,\n      searchValue: '',\n      clickIndex: '',\n      clickedTitle: ''\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleTitleClick = this.handleTitleClick.bind(this);\n    this.compare = this.compare.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(`http://www.devcodecampmusiclibrary.com/api/music`).then(res => this.setState({\n      musicCollection: res.data,\n      filteredMusic: res.data,\n      loading: false\n    }));\n  }\n\n  myFilter(search) {\n    return this.state.musicCollection.filter(function (el) {\n      return el[\"title\"].toLowerCase().includes(search.toLowerCase()) || el[\"album\"].toLowerCase().includes(search.toLowerCase()) || el[\"artist\"].toLowerCase().includes(search.toLowerCase()) || el[\"genre\"].toLowerCase().includes(search.toLowerCase());\n    });\n  }\n\n  compare(a, b) {\n    const header = this.state.clickIndex;\n    console.log(header);\n    const itemA = a.title.toUpperCase();\n    const itemB = b.title.toUpperCase();\n    let comparison = 0;\n\n    if (itemA > itemB) {\n      comparison = 1;\n    } else if (itemA < itemB) {\n      comparison = -1;\n    }\n\n    return comparison;\n  }\n\n  mySort(sortTitle) {\n    this.setState({\n      clickedTitle: sortTitle\n    });\n    this.state.filteredMusic.sort(this.compare);\n  }\n\n  handleSearchChange(event) {\n    this.setState({\n      searchValue: event\n    });\n    const newList = this.myFilter(event);\n    this.setState({\n      filteredMusic: newList\n    });\n  }\n\n  handleTitleClick(event) {\n    //this.setState({clickIndex: event});\n    this.setState({\n      clickIndex: event\n    }, () => {\n      console.log(this.state.clickIndex);\n    });\n    this.mySort(event);\n  }\n\n  render() {\n    return this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 34\n      }\n    }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"titleHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 31\n      }\n    }, \"Music Library\"), /*#__PURE__*/React.createElement(Form, {\n      handleSearchChange: this.handleSearchChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"table\", {\n      id: \"music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SortColumn, {\n      handleTitleClick: this.handleTitleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(BuildTable, {\n      data: this.state.filteredMusic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/johnestes/Documents/GitHub/Projects/musiclibraryreact/src/App.js"],"names":["React","Component","axios","BuildTable","Form","SortColumn","App","constructor","props","state","musicCollection","filteredMusic","loading","searchValue","clickIndex","clickedTitle","handleSearchChange","bind","handleTitleClick","compare","componentDidMount","get","then","res","setState","data","myFilter","search","filter","el","toLowerCase","includes","a","b","header","console","log","itemA","title","toUpperCase","itemB","comparison","mySort","sortTitle","sort","event","newList","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport BuildTable from './components/buildTable.js';\nimport Form from './components/Forms.js'\nimport SortColumn from './components/SortColumn.js'\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      musicCollection:[],\n      filteredMusic: [],\n      loading: true,\n      searchValue: '',\n      clickIndex: '',\n      clickedTitle: ''\n    }\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n    this.handleTitleClick = this.handleTitleClick.bind(this);\n    this.compare = this.compare.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get(`http://www.devcodecampmusiclibrary.com/api/music`)\n    .then(res => this.setState({ \n      musicCollection: res.data,\n      filteredMusic: res.data,\n      loading: false\n    }));\n  }\n  \n  myFilter(search){\n    return this.state.musicCollection.filter(function(el) {\n        return el[\"title\"].toLowerCase().includes(search.toLowerCase()) ||\n        el[\"album\"].toLowerCase().includes(search.toLowerCase()) ||\n        el[\"artist\"].toLowerCase().includes(search.toLowerCase()) ||\n        el[\"genre\"].toLowerCase().includes(search.toLowerCase());\n    }\n  )} \n\n  compare(a, b) {\n    const header = this.state.clickIndex;\n    console.log(header);\n    const itemA = a.title.toUpperCase();\n    const itemB = b.title.toUpperCase();\n  \n    let comparison = 0;\n    if (itemA > itemB) {\n      comparison = 1;\n    } else if (itemA < itemB) {\n      comparison = -1;\n    }\n    return comparison;\n  }\n\n  mySort(sortTitle){\n    this.setState({clickedTitle: sortTitle});\n    this.state.filteredMusic.sort(this.compare);\n  } \n  \n  handleSearchChange(event){\n    this.setState({searchValue: event});\n    const newList = this.myFilter(event);\n    this.setState({\n      filteredMusic: newList,\n    });\n  }\n\n  handleTitleClick(event){\n    //this.setState({clickIndex: event});\n    this.setState({clickIndex: event}, () => {\n      console.log(this.state.clickIndex);\n    });\n    this.mySort(event)\n  }\n\n  render(){\n    return (this.state.loading ? <div>Loading...</div> : (\n    <div>\n        <div id=\"titleHeader\"><h1>Music Library</h1>\n        <Form \n        handleSearchChange={this.handleSearchChange}\n        />\n        </div>\n        <table id=\"music\">\n            <thead>\n              <SortColumn \n              handleTitleClick={this.handleTitleClick}\n              />\n              </thead>\n            <BuildTable data={this.state.filteredMusic}/>\n        </table>\n    </div>\n    )\n    )\n  }  \n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}